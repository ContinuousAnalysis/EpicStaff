The Telegram Trigger feature enables the initiation of graph execution workflows through external events generated by a Telegram bot. This implementation introduces a specialized graph node that registers a webhook with the Telegram API and parses incoming JSON payloads to populate the graph's initial state.

### Architecture

The feature is implemented across the Django backend and the graph execution engine, utilizing a dedicated service for webhook lifecycle management.

#### 1. Data Model

Two new database models were introduced to persist configuration and mapping logic:

* **`TelegramTriggerNode`**: Represents the entry point within a graph. It stores the `telegram_bot_api_key` and a unique `url_path` (UUID) that serves as the webhook identifier. Constraints ensure uniqueness of the node name within a specific graph.
* **`TelegramTriggerNodeField`**: Defines the data mapping strategy. It links specific fields from the incoming Telegram payload (specified by `parent` and `field_name`) to target variables in the graph's execution state (`variable_path`).

#### 2. Service Layer

The `TelegramTriggerService` manages the interaction between the application and the Telegram API.

* **Registration**: The `register_telegram_trigger` method constructs a webhook URL using the system's tunnel URL and the node's unique path. It then issues a `setWebhook` request to the Telegram Bot API.
* **Event Handling**: The `handle_telegram_trigger` method receives raw payloads directed to specific UUID paths. It retrieves the corresponding `TelegramTriggerNode`, identifies the associated graph, and initializes a new execution session, injecting the full payload into the session variables under the key `telegram_payload`.
* **Cleanup**: The `unregister_telegram_trigger` method handles the removal of webhooks from Telegram servers.

#### 3. Graph Execution Logic

The `TelegramTriggerNode` class handles the runtime processing of the trigger.

* **Execution**: Unlike standard nodes, this node functions as an entry point. Upon execution, it iterates through the configured `field_list`.
* **Data Extraction**: It extracts values from the injected `telegram_payload` based on the configured parent and field names (e.g., extracting `text` from `message`).
* **State Population**: Extracted values are mapped to the graph's state variables using `set_output_variables`, making specific Telegram data available to subsequent nodes in the workflow.

### Workflow Description

1. **Configuration**: A user configures a Telegram Trigger Node with a valid Bot API key and defines variable mappings (e.g., mapping `message.from.id` to `user_id`).
2. **Activation**: The backend registers the unique webhook URL with Telegram.
3. **Trigger Event**: A user interacts with the bot on Telegram.
4. **Payload Processing**: Telegram sends a POST request to the webhook endpoint. The system identifies the target graph via the URL path.
5. **Session Start**: A new graph session begins. The `TelegramTriggerNode` executes, parses the JSON payload according to the defined mappings, and updates the state variables.
6. **Flow Continuation**: The graph proceeds to the next node using the data extracted from the Telegram event.