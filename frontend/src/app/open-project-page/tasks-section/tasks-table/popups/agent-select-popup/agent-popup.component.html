<!-- agent-popup.component.html -->
<div class="agent-list-container">
  <div class="list-header">
    <input
      #searchInput
      type="text"
      [(ngModel)]="searchTerm"
      placeholder="Search agents..."
    />
    <button class="filter-button">
      <i class="ti ti-filter"></i>
      Filter
    </button>
  </div>

  <!-- Wrapper for the list -->
  <div class="agent-list-wrapper">
    <ul class="agents-list">
      <li
        class="agent-item"
        *ngFor="let agent of filteredAgents"
        (click)="onSelect(agent)"
        (keydown.enter)="onSelect(agent)"
        [class.selected]="agent.id === selectedAgentId"
        tabindex="0"
      >
        <div class="agent-avatar">
          <i class="ti ti-robot"></i>
        </div>

        <div class="item-content">
          <div class="item-text">
            <div class="agent-role">{{ agent.role }}</div>
          </div>
        </div>

        <button
          class="select-button"
          [title]="
            agent.id === selectedAgentId
              ? 'Deselect this agent'
              : 'Select this agent'
          "
        >
          <i
            [class]="agent.id === selectedAgentId ? 'ti ti-x' : 'ti ti-plus'"
          ></i>
        </button>
      </li>

      <!-- No results message -->
      <li class="no-results" *ngIf="filteredAgents.length === 0">
        <div class="empty-state">
          <i class="ti ti-search-off"></i>
          <p>No matching agents found</p>
        </div>
      </li>
    </ul>
  </div>
</div>
