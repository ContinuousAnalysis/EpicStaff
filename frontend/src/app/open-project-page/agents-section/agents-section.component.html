<!-- agents-section.component.html -->
<div class="agents-section" clickOutside (clickOutside)="onOutsideClick()">
    <!-- Grid controls - search and size switcher -->
    <div class="grid-container">
        <!-- Loading Animation -->
        <div *ngIf="!isLoaded" class="loading-container">
            <div class="loading-spinner"></div>
            <p class="loading-text">Loading agents...</p>
        </div>

        <!-- Staff Agent Cards -->
        <app-staff-agent-card
            *ngFor="let agent of agents; trackBy: trackAgentById"
            [agent]="agent"
            [size]="currentGridSize"
            [cardState]="cardState"
            (removeAgent)="onRemoveStaffAgent($event)"
            (editAgent)="onEditAgent($event)"
        >
        </app-staff-agent-card>
    </div>

    <app-grid-controls
        #gridControls
        (currentSizeChange)="onGridSizeChanged($event)"
        ></app-grid-controls>
</div>
