<form [formGroup]="strategyForm">
    <span class="config__divider"></span>

    <div class="config__grid" formGroupName="additionalParams">
        <span class="config__grid-item">Additional parameters</span>
        <span class="config__grid-item"></span>

        <div class="config__grid-item">
            <label>Preserve Links</label>
            <mat-icon
                class="config__tooltip"
                matTooltip="Keeps hyperlinks in the extracted content instead of removing them. Useful when link references provide important context."
                matTooltipPosition="above"
                matTooltipClass="dialog__label-tooltip"
            >
                help_outline
            </mat-icon>
        </div>
        <div class="config__grid-item">
            <app-toggle-switch
                formControlName="preserve_links"
            />
        </div>
        <div class="config__grid-item">
            <label>Normalize Text</label>
            <mat-icon
                class="config__tooltip"
                matTooltip="Cleans and standardizes extracted text by removing extra whitespace, formatting inconsistencies, and HTML artifacts."
                matTooltipPosition="above"
                matTooltipClass="dialog__label-tooltip"
            >
                help_outline
            </mat-icon>
        </div>
        <div class="config__grid-item">
            <app-toggle-switch
                formControlName="normalize_text"
            />
        </div>
        <div class="config__grid-item">
            <label>External Metadata</label>
            <mat-icon
                class="config__tooltip"
                matTooltip="Additional metadata provided as a JSON object. This metadata will be attached to each generated chunk."
                matTooltipPosition="above"
                matTooltipClass="dialog__label-tooltip"
            >
                help_outline
            </mat-icon>
        </div>
        <div class="config__grid-item">
            <app-json-editor
                class="config__external-metadata"
                [editorOptions]="editorOptions"
                [jsonData]="jsonData"
                [title]="'JSON'"
                [allowCopy]="true"
                [fullHeight]="true"
                (jsonChange)="onJsonChange($event)"
            ></app-json-editor>
        </div>

        <div class="config__grid-item">
            <label>Denylist Tags</label>
            <mat-icon
                class="config__tooltip"
                matTooltip="A list of HTML tags to exclude from processing (e.g., script, style). Content inside these tags will be removed before chunking."
                matTooltipPosition="above"
                matTooltipClass="dialog__label-tooltip"
            >
                help_outline
            </mat-icon>
        </div>
        <div class="config__grid-item">
            <app-custom-input
                class="config__input"
                formControlName="denylist_tags"
                type="text"
                placeholder="Enter tag (e.g. h1, p, div)"
            />
        </div>
    </div>
</form>
