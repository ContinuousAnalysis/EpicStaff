<div
  #menuContainer
  class="context-menu dark-theme"
  [ngStyle]="{
    'top.px': topPosition,
    'left.px': leftPosition,
    width: menuWidth
  }"
>
  <!-- Search Bar -->
  <div class="search-container">
    <i class="ti ti-search"></i>
    <input
      type="text"
      placeholder="Search..."
      (input)="onSearchInput($event)"
      [value]="searchTerm"
    />
  </div>

  <!-- Header with Menu Options -->
  <div class="menu-header">
    @for (item of menuItems; track item.type) {
      <button
        [class.active]="item.type === selectedMenu"
        (click)="onSelectMenu(item.type)"
      >
        {{ item.label }}
      </button>
    }
  </div>

  <!-- Content Area -->
  <div class="menu-content">
    @switch (selectedMenu) {
      @case (MenuType.FlowCore) {
        <app-flow-graph-core-context-menu
          [searchTerm]="searchTerm"
          (nodeSelected)="onNodeSelected($event)"
        ></app-flow-graph-core-context-menu>
      }
      @case (MenuType.Templates) {
        <app-templates-context-menu
          [searchTerm]="searchTerm"
          (nodeSelected)="onNodeSelected($event)"
          (createNewProject)="onCreateNewProject()"
        ></app-templates-context-menu>
      }
      @case (MenuType.Llms) {
        <app-llm-menu
          [searchTerm]="searchTerm"
          (nodeSelected)="onNodeSelected($event)"
        ></app-llm-menu>
      }
    }
  </div>
</div>
