<div class="custom-dialog">
  <div class="custom-dialog-header">
    <h2>Session Results for "{{ project.name }}"</h2>
  </div>

  <!-- Filter Buttons -->
  <div class="filter-buttons">
    <button
      mat-button
      [class.active-filter]="selectedStatus === 'all'"
      (click)="setStatusFilter('all')"
    >
      All
    </button>
    <button
      mat-button
      [class.active-filter]="selectedStatus === 'run'"
      (click)="setStatusFilter('run')"
    >
      Active
    </button>
    <button
      mat-button
      [class.active-filter]="selectedStatus === 'end'"
      (click)="setStatusFilter('end')"
    >
      Finished
    </button>
    <button
      mat-button
      [class.active-filter]="selectedStatus === 'error'"
      (click)="setStatusFilter('error')"
    >
      Error
    </button>
  </div>

  <div class="custom-dialog-content">
    <div *ngFor="let session of filteredSessions" class="session-item">
      <div class="session-details">
        <p><strong>Session ID:</strong> {{ session.id }}</p>
        <p>
          <strong>Status:</strong>
          {{ statusLabels[session.status] }}
        </p>
        <p>
          <strong>Created At:</strong>
          {{ session.created_at | date : "short" }}
        </p>
      </div>
      <div class="session-actions">
        <button mat-flat-button (click)="onViewSession(session)">View</button>
        <button
          mat-raised-button
          color="warn"
          (click)="onStopSession(session)"
          [disabled]="session.status !== 'run'"
        >
          Stop
        </button>
      </div>
    </div>
  </div>
  <div class="custom-dialog-footer">
    <button mat-stroked-button (click)="onClose()">Close</button>
  </div>
</div>
